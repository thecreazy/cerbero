!function(){"use strict";var e={timeInPage:"timeInPage",selection:"selection",scroll:"scroll",mouseExit:"mouseExit",performance:"performance",click:"click",webVitals:"webVitals"},t=function(){function t(){}return t.formatEvent=function(t){var n=Date.now();return{type:e.click,time:n,after:n-t.startDate,data:{position:{screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,x:t.x,y:t.y,offsetX:t.offsetX,offsetY:t.offsetY},keys:{ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey},elements:{target:t.target}}}},t}(),n=function(){function t(){}return t.formatEvent=function(t){return{type:e.performance,time:Date.now(),data:{timing:t.timing,navigation:t.navigation,memory:t.memory}}},t}(),r=function(){function t(){}return t.formatEvent=function(t){var n=Date.now();return{type:e.mouseExit,time:n,after:n-t.startDate,data:{position:{screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,x:t.x,y:t.y,offsetX:t.offsetX,offsetY:t.offsetY},keys:{ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey},elements:{fromElement:t.fromElement}}}},t}(),o=function(){function t(){}return t.formatEvent=function(t){var n=Date.now(),r=t.event,o=r.anchorNode,a=r.anchorOffset,s=r.focusNode,i=r.focusOffset,f=r.baseNode,c=r.baseOffset,l=r.extentNode,m=r.extentOffset;return o.offset=a,s.offset=i,f.offset=c,l.offset=m,{type:e.selection,time:n,after:n-t.startDate,data:{text:t.selection,elements:{anchorNode:o,focusNode:s,baseNode:f,extentNode:l}}}},t}(),a=function(){function t(){}return t.formatEvent=function(t){var n=t.event,r=t.scroll,o=t.height,a=t.startDate,s=Date.now();return{type:e.scroll,time:s,after:s-a,data:{scroll:{fromTop:r,domHeight:o,percentage:Math.ceil(100*r/o)},elements:{srcElement:n.srcElement,target:n.target}}}},t}(),s=function(){function t(){}return t.formatEvent=function(t){var n=t.startTime,r=t.nowTime,o=Date.now();return{type:e.timeInPage,time:o,data:{timePassed:r-n}}},t}(),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var f=function(){function t(){}return t.formatEvent=function(t){var n=t.startDate,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["startDate"]),o=Date.now();return{type:e.webVitals,time:o,after:o-n,data:i({},r)}},t}();new function(){var i,c=this;this.textDecoder=new TextDecoder,this.formatters=((i={})[e.click]=t,i[e.performance]=n,i[e.mouseExit]=r,i[e.selection]=o,i[e.scroll]=a,i[e.timeInPage]=s,i[e.webVitals]=f,i),this.onMessage=function(e){var t,n=e.data,r=n.type,o=n.event,a=JSON.parse(c.textDecoder.decode(o));c.formatters[r]&&(t=c.formatters[r].formatEvent(a)),t&&postMessage(t,null)},this.self=self,this.self.addEventListener("message",this.onMessage.bind(this)),this.onMessage=this.onMessage.bind(this)}}();
